<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiksight</title>
    
     
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@3.9.4/dist/full.css"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{url_for( 'static', path='css/home.css')}}" />
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', path='img/Q-favicon.png') }}"/>
    
  </head>
  <body
    class="bg-gradient-to-b from-blue-50 to-white min-h-screen flex flex-col"
  >
    <!-- Header -->
    <!-- <header class="flex items-center justify-between px-6 py-4 bg-transparent">
      <div class="flex items-center gap-2">
         <img src="{{ url_for('static', path='img/Q-favicon.png') }}" alt="Quiksight logo" class="h-10 w-10">
      </div>
      <a href="/login" class="btn btn-outline btn-primary">Sign In</a>
    </header> -->

    <!-- Hero Section -->
  <section class="flex flex-col items-center text-center mt-8 mb-6 px-4">
      

      <div class="w-full max-w-md bg-white rounded-xl shadow-md p-6 space-y-6 border border-gray-200">
          <div class="text-center">
            <h2 class="text-xl font-semibold text-gray-900">Upload Your File</h2>
            <p class="text-gray-500 mt-1">Select a file to continue.</p>
          </div>

      <form action="/upload" method="post" enctype="multipart/form-data" class="space-y-4">
        <!-- Dropzone -->
        <label for="file-upload" 
              class="group block w-full cursor-pointer rounded-lg border-2 border-dashed border-gray-300 p-8 text-center hover:border-gray-400 hover:bg-gray-50 transition">
          <div id="dropzone-text" class="flex flex-col items-center justify-center space-y-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-gray-400 group-hover:text-gray-600 transition" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 16v2a2 2 0 002 2h14a2 2 0 002-2v-2M12 12V3m0 0l4 4m-4-4l-4 4" />
            </svg>
            <p class="font-medium text-gray-700">Drop your file here</p>
            <p class="text-sm text-gray-400">Supports: .xlsx, .xls, .csv</p>
          </div>

          <div id="file-name-display" class="hidden flex-col items-center space-y-2">
            <svg class="w-[35px] h-[35px] text-green-500 dark:text-green-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M10 3v4a1 1 0 0 1-1 1H5m4 6 2 2 4-4m4-8v16a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V7.914a1 1 0 0 1 .293-.707l3.914-3.914A1 1 0 0 1 9.914 3H18a1 1 0 0 1 1 1Z"/>
            </svg>

            <p class="text-gray-600">File selected:</p>
            <p id="file-name" class="font-semibold text-blue-600"></p>
          </div>
        </label>

        <!-- File input (hidden) -->
        <input id="file-upload" type="file" name="file" class="hidden"
              accept=".csv, .xlsx, .xls" required />

        <!-- Submit button -->
        <button id="upload-btn" type="submit"
                class="w-full py-2 px-4 rounded-lg bg-black text-white font-medium disabled:opacity-60 disabled:cursor-not-allowed transition"
                disabled>
            Upload File
        </button>
      </form>

      <!-- Error message -->
      {% if error %}
        <p class="text-red-500 mt-4 font-bold">{{ error }}</p>
      {% endif %}
    </div>
 
  </section>

  <section class="flex items-center justify-center p-6">
    <div class="flex flex-col md:flex-row gap-6">

    <div class="bg-white rounded-xl shadow-lg p-6 sm:p-8 relative overflow-hidden max-w-sm w-full">
      <!-- <span class="absolute text-9xl font-bold text-gray-100 top-4 right-6 z-0">01</span> -->
      
      <div class="relative z-10">
        <div class="bg-black text-white w-12 h-12 rounded-lg flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
            <path fill-rule="evenodd" d="M11.47 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06l-3.22-3.22V16.5a.75.75 0 0 1-1.5 0V4.81L8.03 8.03a.75.75 0 0 1-1.06-1.06l4.5-4.5ZM3 15.75a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd" />
          </svg>

        </div>
        
        <h3 class="text-xl font-bold mt-6 text-gray-900">Upload Your Data</h3>
        <p class="text-gray-500 mt-2">
          Upload Excel or CSV files to get started.
        </p>
      </div>
    </div>

    <div class="bg-white rounded-xl shadow-lg p-6 sm:p-8 relative overflow-hidden max-w-sm w-full">
      <!-- <span class="absolute text-9xl font-bold text-gray-100 top-4 right-6 z-0">02</span> -->
      
      <div class="relative z-10">
        <div class="bg-black text-white w-12 h-12 rounded-lg flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
          <path d="M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 0 0-1.032-.211 50.89 50.89 0 0 0-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 0 0 2.433 3.984L7.28 21.53A.75.75 0 0 1 6 21v-4.03a48.527 48.527 0 0 1-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979Z" />
          <path d="M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 0 0 1.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0 0 15.75 7.5Z" />
        </svg>

          </div>
        
        <h3 class="text-xl font-bold mt-6 text-gray-900">Talk to Your Data</h3>
        <p class="text-gray-500 mt-2">
          Make changes and ask questions about your data.
        </p>
      </div>
    </div>

    <div class="bg-white rounded-xl shadow-lg p-6 sm:p-8 relative overflow-hidden max-w-sm w-full">
      <!-- <span class="absolute text-9xl font-bold text-gray-100 top-4 right-6 z-0">03</span> -->
      
      <div class="relative z-10">
        <div class="bg-black text-white w-12 h-12 rounded-lg flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
          <path fill-rule="evenodd" d="M12 2.25a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3a.75.75 0 0 1 .75-.75Zm-9 13.5a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd" />
        </svg>

        </div>
        
        <h3 class="text-xl font-bold mt-6 text-gray-900">Download Your Data</h3>
        <p class="text-gray-500 mt-2">
          Download and export files in one click.
        </p>
      </div>
    </div>

  </div>
  </section>
  </body>
</html>


<script>

  document.addEventListener("DOMContentLoaded", () => {
  const fileInput = document.getElementById('file-upload');
  const uploadButton = document.getElementById('upload-btn');
  const dropzoneText = document.getElementById('dropzone-text');
  const fileNameDisplay = document.getElementById('file-name-display');
  const fileNameSpan = document.getElementById('file-name');

  fileInput.addEventListener('change', () => {
    if (fileInput.files.length > 0) {
      const fileName = fileInput.files[0].name;
      fileNameSpan.textContent = fileName;

      dropzoneText.classList.add('hidden');
      fileNameDisplay.classList.remove('hidden');
      fileNameDisplay.classList.add('flex');

      uploadButton.disabled = false;
    } else {
      fileNameSpan.textContent = '';
      dropzoneText.classList.remove('hidden');
      fileNameDisplay.classList.add('hidden');
      fileNameDisplay.classList.remove('flex');

      uploadButton.disabled = true;
    }
  });



  // Adding loading spinner
  form = document.querySelector('form')
  form.addEventListener('submit', () => {
    uploadButton.disabled = true;
    uploadButton.innerHTML = `
      <span class="loading loading-spinner text-info mr-2"></span>
      Uploading...
      
    `;
  });
});
        

</script>
